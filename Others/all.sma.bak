#include <amxmodx> 
//#include <vip>

/*---------------EDIT ME------------------*/ 
#define ADMIN_CHECK ADMIN_BAN 
#define GOLDEN_CHECK ADMIN_LEVEL_H 
#define SILVER_CHECK ADMIN_LEVEL_G 

static const COLOR[] = "^x04" //green 
static const CONTACT[] = "" 
/*----------------------------------------*/ 

new maxplayers 
new gmsgSayText 

public plugin_init() { 
	register_plugin("admin/golden/silver check", "1.0", "EvAn") 
	maxplayers = get_maxplayers() 
	gmsgSayText = get_user_msgid("SayText") 
	
	//register_c
	
	register_clcmd("say /all", "PrintAll")
	//register_clcmd("say /admins", "print_adminslist") 
	
	register_clcmd("say /goldens", "print_goldenlist") 
	register_clcmd("say /goldenplayers", "print_goldenlist") 
	
	register_clcmd("say /silvers", "print_silverlist") 
	register_clcmd("say /silverplayers", "print_silverlist") 
	register_cvar("amx_contactinfo", CONTACT, FCVAR_SERVER) 
} 

public PrintAll(id)
{
	print_adminslist(id)
	print_goldenlist(id)
	print_silverlist(id)
	//print_vips(id)
}

public print_adminslist(user)  
{ 
	new adminnames[33][32] 
	new message[256] 
	new contactinfo[256], contact[112] 
	new id, count, x, len 
	
	for(id = 1 ; id <= maxplayers ; id++) 
		if(is_user_connected(id)) 
		if(get_user_flags(id) & ADMIN_CHECK) 
		get_user_name(id, adminnames[count++], 31) 
	
	len = format(message, 255, "%s Admins online: ",COLOR) 
	if(count > 0) { 
		for(x = 0 ; x < count ; x++) { 
			len += format(message[len], 255-len, "%s%s ", adminnames[x], x < (count-1) ? ", ":"") 
			if(len > 96 ) { 
				print_message(user, message) 
				len = format(message, 255, "%s ",COLOR) 
			} 
		} 
		print_message(user, message) 
	} 
	else { 
		len += format(message[len], 255-len, "No admins online.") 
		print_message(user, message) 
	} 
	
	get_cvar_string("amx_contactinfo", contact, 63) 
	if(contact[0])  { 
		format(contactinfo, 111, "%s Contact Server Admin -- %s", COLOR, contact) 
		print_message(user, contactinfo) 
	} 
} 

public print_goldenlist(user)  
{ 
	new adminnames[33][32] 
	new message[256] 
	new contactinfo[256], contact[112] 
	new id, count, x, len 
	
	for(id = 1 ; id <= maxplayers ; id++) 
		if(is_user_connected(id)) 
		if(get_user_flags(id) & GOLDEN_CHECK) 
		get_user_name(id, adminnames[count++], 31) 
	
	len = format(message, 255, "%s Golden players online: ",COLOR) 
	if(count > 0) { 
		for(x = 0 ; x < count ; x++) { 
			len += format(message[len], 255-len, "%s%s ", adminnames[x], x < (count-1) ? ", ":"") 
			if(len > 96 ) { 
				print_message(user, message) 
				len = format(message, 255, "%s ",COLOR) 
			} 
		} 
		print_message(user, message) 
	} 
	else { 
		len += format(message[len], 255-len, "No golden players online.") 
		print_message(user, message) 
	} 
	
	get_cvar_string("amx_contactinfo", contact, 63) 
	if(contact[0])  { 
		format(contactinfo, 111, "%s Contact Server Admin -- %s", COLOR, contact) 
		print_message(user, contactinfo) 
	} 
} 

public print_silverlist(user)  
{ 
	new adminnames[33][32] 
	new message[256] 
	new contactinfo[256], contact[112] 
	new id, count, x, len 
	
	for(id = 1 ; id <= maxplayers ; id++) 
		if(is_user_connected(id)) 
		if(get_user_flags(id) & SILVER_CHECK) 
		get_user_name(id, adminnames[count++], 31) 
	
	len = format(message, 255, "%s Silver players online: ",COLOR) 
	if(count > 0) { 
		for(x = 0 ; x < count ; x++) { 
			len += format(message[len], 255-len, "%s%s ", adminnames[x], x < (count-1) ? ", ":"") 
			if(len > 96 ) { 
				print_message(user, message) 
				len = format(message, 255, "%s ",COLOR) 
			} 
		} 
		print_message(user, message) 
	} 
	else { 
		len += format(message[len], 255-len, "No silver players online.") 
		print_message(user, message) 
	} 
	
	get_cvar_string("amx_contactinfo", contact, 63) 
	if(contact[0])  { 
		format(contactinfo, 111, "%s Contact Server Admin -- %s", COLOR, contact) 
		print_message(user, contactinfo) 
	} 
} 

print_message(id, msg[]) { 
	message_begin(MSG_ONE, gmsgSayText, {0,0,0}, id) 
	write_byte(id) 
	write_string(msg) 
	message_end() 
} 
